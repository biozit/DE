ls
cd decisionengine
ls
cd
ython3 -m pip install --user jsonnet==0.17.0 tabulate toposort structlog
python3 -m pip install --user wheel DBUtils sqlalchemy
python3 -m pip install --user jsonnet==0.17.0 tabulate toposort structlog
python3 -m pip install --user wheel DBUtils sqlalchemy
python3 -m pip install --user pandas==1.1.5 numpy==1.19.5
python3 -m pip install --user "psycopg2-binary >= 2.8.6; platform_python_implementation == 'CPython'"
python3 -m pip install --user "psycopg2cffi >= 2.9.0; platform_python_implementation == 'PyPy'"
python3 -m pip install --user "cherrypy>=18.6.0" "kombu[redis]>=5.2.0rc1" "prometheus-client>=0.10.0"
python3 -m pip install --user "psutil>=5.8.0" "typing_extensions==4.1.1"
# from decisionengine_modules setup.py
python3 -m pip install --user boto3 google-api-python-client
python3 -m pip install --user "google_auth<2dev,>=1.16.0" "urllib3>=1.26.2"
python3 -m pip install --user gcs-oauth2-boto-plugin
# Condor should be already there from the RPM, if not add: python3 -m pip install htcondor
python3 -m pip install --user bill-calculator-hep
# The following are additional requirements for v1.6 and earlier
python3 -m pip install --user boto packaging
# This is not in pypi
python3 -m pip install --user https://test-files.pythonhosted.org/packages/f4/a5/17a14b4ef85bc412a0ddb771771de3f562430328b0d83da6091a4131bb26/bill_calculator_hep_mapsacosta-0.0.10-py3-none-any.whl
exit
python3 -m pip install --user jsonnet==0.17.0 tabulate toposort structlog
python3 -m pip install --user wheel DBUtils sqlalchemy
python3 -m pip install --user pandas==1.1.5 numpy==1.19.5
python3 -m pip install --user "psycopg2-binary >= 2.8.6; platform_python_implementation == 'CPython'"
python3 -m pip install --user "psycopg2cffi >= 2.9.0; platform_python_implementation == 'PyPy'"
python3 -m pip install --user "cherrypy>=18.6.0" "kombu[redis]>=5.2.0rc1" "prometheus-client>=0.10.0"
python3 -m pip install --user "psutil>=5.8.0" "typing_extensions==4.1.1"
# from decisionengine_modules setup.py
python3 -m pip install --user boto3 google-api-python-client
python3 -m pip install --user "google_auth<2dev,>=1.16.0" "urllib3>=1.26.2"
python3 -m pip install --user gcs-oauth2-boto-plugin
# Condor should be already there from the RPM, if not add: python3 -m pip install htcondor
python3 -m pip install --user bill-calculator-hep
# The following are additional requirements for v1.6 and earlier
python3 -m pip install --user boto packaging
# This is not in pypi
python3 -m pip install --user https://test-files.pythonhosted.org/packages/f4/a5/17a14b4ef85bc412a0ddb771771de3f562430328b0d83da6091a4131bb26/bill_calculator_hep_mapsacosta-0.0.10-py3-none-any.whl
exit
ls
cd decisionengine
ls
python3 setup.py develop --user
cd ..
cd decisionengine_modules/
ls
python3 setup.py develop --user
ls
de
cd
decisionengine &
pwd
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine 
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine 
bg
de-client --status
cd /var/log/decisionengine/
ls
dfg
fg
grep error *
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
de-client --status
fg
bg
fg
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
de-client --status
cd /var/log/
l
ls
cd decisionengine/
ls
grep error *
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
ps aux
kill -9 2512
ps aux
decisionengine &
df -h
cat /etc/decisionengine/
cd /etc/decisionengine/
ls
grep -R mini *
hostname
vim config.d/job_classification.libsonnet 
vim glideinwms.libsonnet 
fg
vim glideinwms.libsonnet 
decisionengine &
fgf
fg
find . -inaem configure_gwms_frontend.py
find . -iname configure_gwms_frontend.py
cd
find . -iname configure_gwms_frontend.py
fg
ps aux
kill 21
ls
ps aux
de-client --status
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
fg
ls
cd /etc/dci
cd /etc/decisionengine/
ls
grep -R mini *
hostname
cd /var/log/dci
cd /var/log/decisionengine/
ls
rm *
ls
decisionengine &
fg
decisionengine &
ls
grep erro *
grep error *
condor_q
de-client --status
ls
grep -i erro *
f
fg
decisionengine &
ping gfactory-itb-1.opensciencegrid.org
l
ls
cd
ls -lha
mkdir .condor
ls
fg
mkdir -p ~decisionengine/.condor/tokens.d/
cd .condor/tokens.d/
ls
vim token
chmod 600 token 
cd
fg
decisionengine &
ping fandricondormini-bbd47865d-s5fsd
fg
cp .condor/tokens.d/token  /etc/condor/tokens.d/
fg
ps aux
decisionengine &
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine 
cd /var/log/decisionengine/
ls
rm *
cd
decisionengine &
ls
fg
ps aux | grep decision
kill -9 9641 9656 9659
decisionengine &
cd /var/log/decisionengine/
ls
grep error *
vim resource_request.log 
fg
ls
decisionengine 
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
bg
condor_status -pool gfactory-itb-1.opensciencegrid.org -any -l HYJDWWIN_OSG_US_ISI_osg@gfactory_instance@OSG-ITB@OSPool-ITB.itb
cat /etc/decisionengine/glideinwms.libsonnet 
:q1
de-client --status
cd /var/log/decisionengine/
ls
grep error *
fg
decisionengine --help
decisionengine --no-webserver
bg
de-client --status
ls
cd
grep -i -R proxy *
grep -i -R proxy * | grep -i no
grep -i -R proxy * | grep -i conti
vim decisionengine_modules/src/decisionengine_modules/glideinwms/glide_frontend_element.py
fg
decisionengine --no-webserver
bg
de-client --status
condor_q
condor_status
de-client --status
condor_q
condor_status
de-client --status
vim 1.job 
condor_submit 1.job 
de-client --status
condor_status
de-client --status
condor_q
ls
condor_q
condor_status
grep erro /var/log/decisionengine/*
grep erro /var/log/condor/*
condor_status
condor_q
condor
de-client --status
condor_status
vim 1.job 
condor_submit 1.job 
condor_q
condor_submit 1.job 
condor_status
condor_q
condor_status
grep -i erro /var/log/decisionengine/
grep -i erro /var/log/decisionengine/*
condor_q
condor_status
grep -i erro /var/log/decisionengine/*
condor_status
df -h
condor_status
condor_q
ps aux
ps aux | grep condor
ls
date
de-client --status
condor_q
condor_status
date
condor_q
condor_status
de-client --status
fg
decisionengine --no-webserver
bg
ls
de-client --status
condo_q
condor_q
condor_status
fg
decisionengine --no-webserver
bg
de-client --status
date
de-client --status
condor_q
condor_status
grep error /var/log/decisionengine/*
condor_status
condor_q
grep itb /etc/decisionengine/glideinwms.libsonnet 
host gfactory@gfactory-itb-1.opensciencegrid.org
ifconfig 
ifconfig -a
condor_q
ls
condor_q
condor_status
grep itb /etc/decisionengine/glideinwms.libsonnet 
condor_q
condor_rm user decisionengine
condor_q
vim 1.job 
condor_submit 1.job 
de-client --status
fg
decisionengine --no-webserver
bg
ls
de-client --status
condor_q
condor_status
fg
cd /var/log/decisionengine/
l
ls
mkdir old 
mv * ol
mv * old
ls
cd
decisionengine --no-webserver
bg
condor_q
condor_status
condor_-q
condor_q
de-client --status
condor_q
condor_status
de-client --status
condor_q
condor_status
de-client --status
vim /etc/condor/condor_config 
de-client --status
condor_q
condor_status
de-client --status
\
de-client --status
condor_q
condor_q 
condor_q --status
condor_q --json
condor_q
condor_status 
condor_config_val SEC_DEFAULT_AUTHENTICATION_METHODS
condor_q
condor_status
condor_q
cd .condor/tokens.d/token 
ls
cd .condor/tokens.d/
pwd
cd
cat /etc/condor/tokens.d/to
vim /etc/decisionengine/glideinwms.libsonnet 
cd /etc/decisionengine/
ls
grep -R token * 
bim glideinwms.libsonnet 
ls
vim glideinwms.libsonnet 
cd
find . -iname 'configure_gwms_frontend.py'
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
fg
redis-cli 
ls
cd /var/lib/gwms-frontend/
ls
grep -R token *
grep -R scitoken *
cd
cd /etc/decisionengine/
ls
grep -R token *
cd
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
decisionengine --no-webserver
bg
decisionengine --no-webserver
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
cd -
cd
cd /var/lib/gwms-frontend/
ls
grep -R token *
grep -R scitoken *
fg
redis-cli 
decisionengine --no-webserver
bg
ps aux
de-client --status
condor_q
condor_status
ls
cd
ls
cat scitoken 
vim scitoken 
fg
decisionengine --no-webserver
bg
condor_q
condor_status
_condor_SCITOKENS_FILE=scitoken  _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619  -type SCHEDD WRITE -verbose
_condor_SCITOKENS_FILE=scitok  _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619  -type SCHEDD WRITE -verbose
pwd
_condor_SCITOKENS_FILE=/home/decisionengine/scitoken  _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619  -type SCHEDD WRITE -verbose
_condor_SCITOKENS_FILE=/home/decisionengine/scitoken _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619 -name osg-gw-7.t2.ucsd.edu -type SCHEDD WRITE -verbose
_condor_SCITOKENS_FILE=/home/decisionengine/scitok _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619 -name osg-gw-7.t2.ucsd.edu -type SCHEDD WRITE -verbose
_condor_SCITOKENS_FILE=/home/decisionengine/scitoken _condor_SEC_CLIENT_AUTHENTICATION_METHODS=SCITOKENS _condor_TOOL_DEBUG=D_FULLDEBUG,D_SECURITY condor_ping -pool osg-gw-7.t2.ucsd.edu:9619 -name osg-gw-7.t2.ucsd.edu -type SCHEDD WRITE -verbose
condor_q
condor_status
condor_q
condor_status
condor_q
ls
condor_q
condor_rm user decisionengine
condor_q
condor_status
condor_q
ls
cd /etc/de
cd /etc/decisionengine/
ls
vim glideinwms.libsonnet 
cd /etc/decisionengine/
ls
grep -R mini *
ps au
kill -9 44916 44975 44978 44979 
ps aux | grep deci
kill -9 44982 44983 44986 44988 44989 44992 44994 44995 44998
ps aux | grep deci
decisionengine --no-webserver
bg
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
fg
decisionengine --no-webserver &
de-client --status
condor_submit 1.job 
condor_q
condor_rm user decisionengine
ls
condor_status
condor_submit 1.job 
condor_q
decisionengine
de-client --status
condor_status
condor_status -any
decisionengine --no-webserver &
de-client --status
ls
cd /etc/condor/
ls
cd ..
cd de
cd decisionengine/
ls
grep mini *
grep -R mini *
vim glideinwms.libsonnet 
vim config.d/job_classification.libsonnet 
fg
killall decisionengine
ps aux
decisionengine --no-webserver &
fg
bg
condor_q
condor_status
ls
condor_config_val -dump | grep 
condor_config_val -dump 
condor_config_val -dump  | grep 127
fg
decisionengine --no-webserver &
fg
pwd
grep river *
grep -R river *
hostname
vim config.d/job_classification.libsonnet 
hostname
vim config.d/job_classification.libsonnet 
fg
decisionengine --no-webserver &
de-client --status
ls
condor_qstat
condor_q
condor_submit 1.job 
cd
condor_submit 1.job 
ls
condor_q
condor_status
condor_q
condor_status
condor_q
condor_status
condor_q
condor_status
cd /etc/
ls
cd
condor_q
condor_status
condor_q
condor_status
condor_status -any
condor_status
condor_q -json
condor_q -json | grep token
condor_q -json | grep -i token
cat test.
cat test.log 
ls
condor_q
vim 1.job 
condor_status
killall decisionengine
decisionengine --no-webserver &
condor_q
condor_status
condor_submit 1.job 
condor_rm user decisionengine
condor_submit 1.job 
condor_q
condor_status
condor_q
dfd -h
df -h
ls
decisionengine &
fg
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine &
de-client --status
fg
grep -R -i cherrypi *
grep -R -i cherrypi decisionengine/*
grep -R -i cherrypi decisionengine_modules/*
grep -R -i cherrypy decisionengine_modules/*
grep -R -i cherrypy decisionengine/*
vim decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
ls
decisionengine &
fg
ls
cd pro/
ls
rm *
ls
cd
decisionengine  &
fg
bg
de-client --status
top
de-client --status
ps aux
cd /var/log/
ls
cd decisionengine/
ls
grep error *
grep erro *
de-client --status
fg
redis-cli 
decisionengine &
de-clie
de-client --status
top
condor_q
condor_status
ls
cd
ls
cd /var/log/decisionengine/
ls
fg
cd /var/log/condor
ls
cat StarterLog.testing 
ls
cat SharedPortLog 
ls
cat MasterLog 
ls
cat XferStatsLog 
cat MatchLog 
ls
cat CollectorLog 
d -h
df -h
ls
ps aux
condor_q
condor_rm user decisionengine
condor_q
decisionengine --no-webserver &
condor_submit 1.job 
condor_oq
condor_q
condor_submit 1.job 
condor_q
ls
cd /var/lib/gwms-frontend/web-area/
ls
cd stage/
cd m
cd mo
cd ..
ls
cd monitor/
ls
ls -lhja
ls -lha
ps aux
cd /var/log/
ls
cd
ls
grep -R flask *
grep -R flask-3 *
grep -R flask *
grep -R fla *
ls
cd /var/lig
cd /var/lib
lk
lks
ls
cd gwms-frontend/
ls
vim vofrontend/
cd vofrontend/
ls
grep -R fla *
grep -R flask *
cd ..
ls
grep -R flask *
cd ..
ls
grep -R flask *
grep -R 8080 *
cd
grep -R 8080 *
cd /var/lib/gwms-frontend/
ls
cd web-area/
ls
cd stage/
ls
cd group_defandri/
ls
cd ..
ls
cd ..
ls
cd creation/
s
ls
cd templates/
ls
vim frontend_initd_startup_template 
ls
cd ..
ls
cd .
cd ..
ls
cd
grep -R 8080 *
grep -R web *
/var/lib/gwms-frontend/
ls
cd /var/lib/gwms-frontend/
ls
chmod 777 web-area/
ls -lha
cd web-area/
ls
cd ..
ls
cd /var/log/
ls
grep -vfr m9klwl.cfg *
grep -R m9klwl.cfg *
cd
ls
cd decisionengine
ls
grep -R web *
cd ..
grep -R web *
cd decisionengine_modules/
grep -R web *
vim src/decisionengine_modules/glideinwms/glide_frontend_element.py
ls
vim src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
ls
cd
ls
cd /var/lig
cd /var/lib
ls
ls -lha
ps aux | grep flask
su - restd
condor_q
condor_status
condor_status -any
cd
condor_q
condor_status
ps aux
ps aux | grep flask
grep -R flask *
cd
ls
grep -R flask *
cd /var/lib/
grep -R flask *
cd /etc/
grep -R flask *
ps aux
fg
decisionengine
export PROMETHEUS_MULTIPROC_DIR=/home/decisionengine/pro
decisionengine
bg
cd
cd decisionengine
ls
cd config/
ls
fg
ccd
ls
cd
git clone https://github.com/cherrypy/cherrypy
cd cherrypy/
ls
cd cherrypy
ls
cd t
cd test/
ls
python -m cherrypy.tutorial.tut01_helloworld
find . -iname 'cherrypy.tutorial.tut01_helloworld'
cd ..
find . -iname 'cherrypy.tutorial.tut01_helloworld'
cd ..
find . -iname 'cherrypy.tutorial.tut01_helloworld*'
ls
cd
python3 -m cherrypy.tutorial.tut01_helloworld
fg
find . -iname 'tut01_helloworld.py'
vim ./.local/lib/python3.6/site-packages/cherrypy/tutorial/tut01_helloworld.py
cd ./.local/lib/python3.6/site-packages/cherrypy/tutorial
ls
vim tutorial.conf 
python3 -m cherrypy.tutorial.tut01_helloworld
vim tutorial.conf 
python3 -m cherrypy.tutorial.tut01_helloworld
vim tutorial.conf 
python3 -m cherrypy.tutorial.tut01_helloworld
ifconfig 
vim tutorial.conf 
python3 -m cherrypy.tutorial.tut01_helloworld
ls
vim tutorial.conf 
cd
cd decisionengine
ls
grep -R web *
vim src/decisionengine/framework/engine/DecisionEngine.py
ifconfig 
vim src/decisionengine/framework/engine/DecisionEngine.py
vf
fg
cd
decisionengine 
vim src/decisionengine/framework/engine/DecisionEngine.py
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
decisionengine 
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
decisionengine 
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
decisionengine 
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
decisionengine 
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
ls
cd /var/lib/gwms-frontend/web-area/
ls
cd stage/
lks
ls
pwd
cd
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
fg
decisionengine &
vim  decisionengine/src/decisionengine/framework/engine/DecisionEngine.py
vim /etc/httpd/conf.d/gwms-frontend.conf 
cd /etc/httpd/
ls
cd conf
cd conf.d
ls
cd ..
cd conf.d/
ls
mv gwms-frontend.conf ~
cd /etc/decisionengine/
ls
vim glideinwms.libsonnet 
decisionengine 
fg
decisionengine 
bg
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
cd
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
cd pro/
ls
rm *
fg
redis-cli 
cd
decisionengine &
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
fg
decisionengine --no-webserver &
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
fg
redis-cli 
decisionengine --no-webserver &
condor_q
condor_status
condor_status -any
condor_q
tail -f /var/log/condor/CollectorLog
vim /var/log/condor/CollectorLog
adduser UCSD
fg
decisionengine --no-webserver &
condor_q
condor_status
tail -f /var/log/condor/CollectorLog
condor_q
condor_status
condor_q
condor_status
condor_oq
condor_q
cd /etc/decisionengine/glideinwms.libsonnet 
vim /etc/decisionengine/glideinwms.libsonnet 
fg
decisionengine
fg
decisionengine --no-webserver &
python3 ./decisionengine_modules/src/decisionengine_modules/glideinwms/configure_gwms_frontend.py
f
fg
cd /var/lib/gwms-frontend/
grep mini *
grep -R mini *
vim vofrontend/frontend.condor_config
cd
ls
cd
decisionengine --no-webserver &
condor_q
condor_submit 1.job 
condoq
condor_q
ls
fg
cd /tmp/
ls
tar -cvzf v9.tar.gz /home/decisionengine/ /etc/yum.repos.d/ /etc/condor/ /etc/decisionengine/ /var/lib/gwms-frontend/
ls
scp v9.tar.gz biozit@ec2-18-224-245-235.us-east-2.compute.amazonaws.com:~
